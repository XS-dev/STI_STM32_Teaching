/***********************************************************************************************
文件：MSP430F149+AD9854
作者：h
用途：DDS芯片AD9854测试程序
MCU： MSP430F149 晶振：8MHz
编译器：IAR Ror MSP430 5.10
硬  件：2011_04_13
说明：
日期：上午 10:11 2011-5-8
***********************************************************************************************/
#include  <msp430x14x.h>
#include"AD9854_SPI.h"
#include "general.h"
//control function register  32bitS;

//******************************************************************************
//系统初始化
//******************************************************************************
void Initsys()
{
   unsigned int iq0;
   _DINT();
   BCSCTL1 &=~XT2OFF;
   do
   {
      IFG1 &= ~OFIFG;		    	// 清除振荡器失效标志
  for (iq0 = 0xFF; iq0 > 0; iq0--);	// 延时，等待XT2起振
   }
   while ((IFG1 & OFIFG) != 0);		// 判断XT2是否起振		
   BCSCTL2 |=SELM1+SELS;			//MCLK为8MHz，SMCLK为8MHz ;                
}

/******************************************************************************************
******************************************主程序*******************************************
******************************************************************************************/
void main( void )
{
     WDTCTL = WDTPW + WDTHOLD ; 
     Initsys();   
     Init_AD9854();
 	Write_AD9854_FrqSW();
	  //Write_AD9854_Frq1();
     while(1) ;

}
